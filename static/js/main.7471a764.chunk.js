(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{305:function(e,t,a){e.exports=a(647)},569:function(e,t,a){},577:function(e,t,a){},647:function(e,t,a){"use strict";a.r(t);a(306);var n=a(302),r=a(0),c=a.n(r),i=a(14),o=a.n(i),l=a(137),s=a(176),d=(a(316),a(204),a(364),a(297)),u=a.n(d),p=a(61),m=a(284),f=a(182),g=a(183),h=a(285),k=a.n(h),v=a(89),E=a.n(v),_={feedList:[],scrappedList:E.a.get("bucketScrap")||{}},b=Object(p.c)({feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_feed_list":return Object(g.a)({},e,{feedList:[].concat(Object(f.a)(e.feedList),Object(f.a)(t.payload))});case"set_scrap_feed":return Object(g.a)({},e,{scrappedList:t.payload});default:return e}}}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,S=Object(p.e)(b,w(Object(p.a)(m.a))),y=(a(569),a(261),a(138)),O=(a(263),a(107)),j=a(73),L=(a(571),a(294)),N=(a(573),a(299)),C=a(178),x=a.n(C),D=a(286),F=a(287),A=a(288),H=a(300),M=a(289),P=a(301),I=(a(648),a(298));var T=function(e){var t=e.authorProfile,a=e.authorNickname,n=e.image,r=e.onScrapClick,i=e.id,o=e.scrapped;return c.a.createElement("div",{className:"feed-card"},c.a.createElement("span",{className:"author-profile"},c.a.createElement("img",{src:t,alt:a})),c.a.createElement("span",{className:"author-nickname"},a),c.a.createElement("div",{className:"card-img",style:{backgroundImage:"url(".concat(n,")")}},c.a.createElement("div",{className:"scrap-btn ".concat(!0===o?"scrapped":""),onClick:function(){r(i,o,n,a,t)}})))},W=(a(577),I.a.confirm),z=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(H.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={page:1,filterScrap:!1,hasMore:!0,loading:!1},a.scrollHandler=function(e){var t=a.state.loading;document.documentElement.scrollTop+window.innerHeight===document.documentElement.scrollHeight&&!1===t&&a.getData("append")},a.getData=function(){var e=Object(D.a)(x.a.mark(function e(t){var n,r,c,i,o;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.page,c=n.filterScrap,i=n.hasMore,o=a.props.getFeedListAction,!i){e.next=9;break}return a.setState({loading:!0}),e.next=6,o(t,r,c);case 6:0===e.sent.length&&a.setState({hasMore:!1}),a.setState(function(e){return{page:e.page+1,loading:!1}});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onScrapClick=function(e,t,n,r,c){var i=a.props.setScrapFeedAction;W({title:"".concat(!0===t?"\uc2a4\ud06c\ub7a9\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc5b4\uc694?":"\uc2a4\ud06c\ub7a9 \ud558\uc2dc\uaca0\uc5b4\uc694?"),onOk:function(){i(e,!t,n,r,c)}})},a.onFilterChange=function(e){a.setState({filterScrap:e.target.checked,page:1})},a}return Object(P.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.getData("append"),window.addEventListener("scroll",this.scrollHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollHandler)}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterScrap,n=t.loading,r=this.props,i=r.feedList,o=r.scrappedList,l=[];return Object.keys(o).forEach(function(e){l.push(o[e])}),c.a.createElement("div",{className:"feed-page"},c.a.createElement("div",{className:"filter-wrap"},c.a.createElement(N.a,{className:"filter-checkbox",checked:a,onChange:this.onFilterChange},"\uc2a4\ud06c\ub7a9\ud55c \uac83\ub9cc \ubcf4\uae30")),c.a.createElement(y.a,{gutter:20},!1===a&&i.map(function(t){return c.a.createElement(O.a,{xs:24,sm:12,md:8,lg:6,key:t.id.toString()},c.a.createElement(T,{authorProfile:t.profile_image_url,authorNickname:t.nickname,image:t.image_url,onScrapClick:e.onScrapClick,id:t.id,scrapped:void 0!==o[t.id]}))}),!0===a&&l.map(function(t){return c.a.createElement(O.a,{xs:24,sm:12,md:8,lg:6,key:t.id.toString()},c.a.createElement(T,{authorProfile:t.profile_image_url,authorNickname:t.nickname,image:t.image_url,onScrapClick:e.onScrapClick,id:t.id,scrapped:void 0!==o[t.id]}))}),n&&c.a.createElement("div",{className:"spinner-wrap"},c.a.createElement(L.a,{size:"large"}))))}}]),t}(c.a.Component),B=Object(l.b)(function(e){return{feedList:e.feed.feedList,scrappedList:e.feed.scrappedList}},{getFeedListAction:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>2&&arguments[2],E.a.get("bucketScrap"));return null===t&&(t={}),function(t){return k.a.get("https://s3.ap-northeast-2.amazonaws.com/bucketplace-coding-test/cards/page_".concat(e,".json")).then(function(e){return 200===e.status?(t({type:"get_feed_list",payload:e.data}),e.data):(t({type:"get_feed_list",payload:[]}),[])}).catch(function(e){return console.log(e),t({type:"get_feed_list",payload:[]}),[]})}},setScrapFeedAction:function(e,t,a,n,r){var c=E.a.get("bucketScrap");return!0===t?null===c?(c={})[e]={id:e,image_url:a,nickname:n,profile_image_url:r}:c[e]={id:e,image_url:a,nickname:n,profile_image_url:r}:delete c[e],E.a.set("bucketScrap",c),function(e){e({type:"set_scrap_feed",payload:c})}}})(z);var J=function(){return c.a.createElement(y.a,null,c.a.createElement(O.a,{xs:22,sm:22,md:23,lg:19,xl:22,xxl:17,className:"center-content"},c.a.createElement(j.c,null,c.a.createElement(j.a,{path:"/",component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(l.a,{store:S},c.a.createElement(n.a,{locale:u.a},c.a.createElement(s.a,null,c.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[305,1,2]]]);