(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{290:function(e,t,a){e.exports=a.p+"static/media/scrap-on.be2a9f76.svg"},291:function(e,t,a){e.exports=a.p+"static/media/scrap-off.0c7e34a2.svg"},307:function(e,t,a){e.exports=a(649)},571:function(e,t,a){},579:function(e,t,a){},649:function(e,t,a){"use strict";a.r(t);a(308);var n=a(304),c=a(0),r=a.n(c),i=a(14),o=a.n(i),l=a(137),s=a(176),d=(a(318),a(204),a(366),a(299)),p=a.n(d),u=a(61),m=a(284),f=a(182),g=a(183),h=a(285),v=a.n(h),k=a(89),E=a.n(k),_={feedList:[],scrappedList:E.a.get("bucketScrap")||{}},b=Object(u.c)({feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_feed_list":return Object(g.a)({},e,{feedList:[].concat(Object(f.a)(e.feedList),Object(f.a)(t.payload))});case"set_scrap_feed":return Object(g.a)({},e,{scrappedList:t.payload});default:return e}}}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,S=Object(u.e)(b,w(Object(u.a)(m.a))),y=(a(571),a(261),a(138)),O=(a(263),a(107)),j=a(73),L=(a(573),a(296)),N=(a(575),a(301)),x=a(178),C=a.n(x),D=a(286),F=a(287),A=a(288),H=a(302),M=a(289),I=a(303),P=(a(650),a(300)),T=a(290),W=a.n(T),z=a(291),B=a.n(z);var J=function(e){var t=e.authorProfile,a=e.authorNickname,n=e.image,c=e.onScrapClick,i=e.id,o=e.scrapped;return r.a.createElement("div",{className:"feed-card"},r.a.createElement("span",{className:"author-profile"},r.a.createElement("img",{src:t,alt:a})),r.a.createElement("span",{className:"author-nickname"},a),r.a.createElement("div",{className:"card-img",style:{backgroundImage:"url(".concat(n,")")}},r.a.createElement("div",{className:"scrap-btn ".concat(!0===o?"scrapped":""),style:{backgroundImage:"url(".concat(!0===o?W.a:B.a,")")},onClick:function(){c(i,o,n,a,t)}})))},U=(a(579),P.a.confirm),X=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(H.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(c)))).state={page:1,filterScrap:!1,hasMore:!0,loading:!1},a.scrollHandler=function(e){var t=a.state.loading;document.documentElement.scrollTop+window.innerHeight===document.documentElement.scrollHeight&&!1===t&&a.getData("append")},a.getData=function(){var e=Object(D.a)(C.a.mark(function e(t){var n,c,r,i,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,c=n.page,r=n.filterScrap,i=n.hasMore,o=a.props.getFeedListAction,!i){e.next=9;break}return a.setState({loading:!0}),e.next=6,o(t,c,r);case 6:0===e.sent.length&&a.setState({hasMore:!1}),a.setState(function(e){return{page:e.page+1,loading:!1}});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onScrapClick=function(e,t,n,c,r){var i=a.props.setScrapFeedAction;U({title:"".concat(!0===t?"\uc2a4\ud06c\ub7a9\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc5b4\uc694?":"\uc2a4\ud06c\ub7a9 \ud558\uc2dc\uaca0\uc5b4\uc694?"),onOk:function(){i(e,!t,n,c,r)}})},a.onFilterChange=function(e){a.setState({filterScrap:e.target.checked,page:1})},a}return Object(I.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.getData("append"),window.addEventListener("scroll",this.scrollHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.scrollHandler)}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterScrap,n=t.loading,c=this.props,i=c.feedList,o=c.scrappedList,l=[];return Object.keys(o).forEach(function(e){l.push(o[e])}),r.a.createElement("div",{className:"feed-page"},r.a.createElement("div",{className:"filter-wrap"},r.a.createElement(N.a,{className:"filter-checkbox",checked:a,onChange:this.onFilterChange},"\uc2a4\ud06c\ub7a9\ud55c \uac83\ub9cc \ubcf4\uae30")),r.a.createElement(y.a,{gutter:20},!1===a&&i.map(function(t){return r.a.createElement(O.a,{xs:24,sm:12,md:8,lg:6,key:t.id.toString()},r.a.createElement(J,{authorProfile:t.profile_image_url,authorNickname:t.nickname,image:t.image_url,onScrapClick:e.onScrapClick,id:t.id,scrapped:void 0!==o[t.id]}))}),!0===a&&l.map(function(t){return r.a.createElement(O.a,{xs:24,sm:12,md:8,lg:6,key:t.id.toString()},r.a.createElement(J,{authorProfile:t.profile_image_url,authorNickname:t.nickname,image:t.image_url,onScrapClick:e.onScrapClick,id:t.id,scrapped:void 0!==o[t.id]}))}),n&&r.a.createElement("div",{className:"spinner-wrap"},r.a.createElement(L.a,{size:"large"}))))}}]),t}(r.a.Component),R=Object(l.b)(function(e){return{feedList:e.feed.feedList,scrappedList:e.feed.scrappedList}},{getFeedListAction:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>2&&arguments[2],E.a.get("bucketScrap"));return null===t&&(t={}),function(t){return v.a.get("https://s3.ap-northeast-2.amazonaws.com/bucketplace-coding-test/cards/page_".concat(e,".json")).then(function(e){return 200===e.status?(t({type:"get_feed_list",payload:e.data}),e.data):(t({type:"get_feed_list",payload:[]}),[])}).catch(function(e){return console.log(e),t({type:"get_feed_list",payload:[]}),[]})}},setScrapFeedAction:function(e,t,a,n,c){var r=E.a.get("bucketScrap");return!0===t?null===r?(r={})[e]={id:e,image_url:a,nickname:n,profile_image_url:c}:r[e]={id:e,image_url:a,nickname:n,profile_image_url:c}:delete r[e],E.a.set("bucketScrap",r),function(e){e({type:"set_scrap_feed",payload:r})}}})(X);var V=function(){return r.a.createElement(y.a,null,r.a.createElement(O.a,{xs:22,sm:22,md:23,lg:19,xl:22,xxl:17,className:"center-content"},r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/",component:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:S},r.a.createElement(n.a,{locale:p.a},r.a.createElement(s.a,null,r.a.createElement(V,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[307,1,2]]]);